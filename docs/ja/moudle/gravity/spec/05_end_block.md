# エンドブロック

各abciエンドブロック呼び出し、キューとバリデーターセットを更新する操作
変更は実行するように指定されています。

## スラッシュ

スラッシュは、複数のタイプのスラッシュ(バリデーターセット、バッチ、クレームスラッシュ)をグループ化します。これらがどのように機能するかについては、次のセクションで説明します。

### バリデータースラッシュ

バリデーターは、バリデーターセットに署名しないためにスラッシュされます。 Cosmos-SDKを使用すると、アクティブなバリデーターセットをブロックごとに変更できます。このため、単一の非結合期間内に複数のバリデーターセットを保存する必要があります。これにより、バリデーターがスラッシュされないようになります。

バリデーターはスラッシュされるか、単一の確認署名が欠落します。

### バッチスラッシュ

バッチリクエストに署名しないため、バリデーターはスラッシュされます。バリデーターは欠落しているためにスラッシュされます

## アテステーション

現在投票されているすべてのアテステーションを繰り返します。アテステーションが前のアテステーションより1つ高くなると、アテステーションの検索を停止し、「TryAttestation」を呼び出します。特定のナンスでのアテステーションに十分な票が入ると、他のすべてのアテステーションはスキップされ、 `lastObservedEventNonce`がインクリメントされます。

## 掃除

クリーンアップは、タイムアウトしたトランザクションをクリーンアップするために、バッチとロジック呼び出しをループします。

### バッチ

トランザクションのバッチが作成されると、バッチが無効になったときの反対側のチェーンの高さが指定されます。これが発生した場合は、ストアから削除する必要があります。すべてのブロックの終わりに、タイムアウトの高さをチェックするロジック呼び出しのストアをループします。

### ロジックコール

ロジック呼び出しが作成されると、タイムアウトの高さで構成されます。この高さは、ロジック呼び出しがいつ無効になるかを知るために使用されます。すべてのブロックの終わりに、タイムアウトの高さをチェックするロジック呼び出しのストアをループします。